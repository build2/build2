# file      : tests/test/script/runner/if.testscript
# license   : MIT; see accompanying LICENSE file

testscript.syntax = 2

.include ../common.testscript

: if-branch
:
$c <<EOI && $b >'if'
testscript.syntax = 2

{
  if cat <'foo' >'foo'
    echo 'if' >|
  else
    echo 'else' >|
}
EOI

: else-branch
:
$c <<EOI && $b >'else'
testscript.syntax = 2

{
  if cat <'foo' >'bar'
    echo 'if' >|
  else
    echo 'else' >|
}
EOI

: syntax-1
:
{{
  : if-branch
  :
  $c <<EOI && $b >'if'
  if cat <'foo' >'foo'
    echo 'if' >|
  else
    echo 'else' >|
  end
  EOI

  : else-branch
  :
  $c <<EOI && $b >'else'
  if cat <'foo' >'bar'
    echo 'if' >|
  else
    echo 'else' >|
  end
  EOI
}}
